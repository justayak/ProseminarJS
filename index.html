<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <link rel="stylesheet" href="libs/bootstrap-3.1.1-dist/css/bootstrap.css">
    <link rel="stylesheet" href="libs/codemirror/lib/codemirror.css">
    <link rel="stylesheet" hre="libs/codemirror/theme/monokai.css">
    <script src="libs/codemirror/lib/codemirror.js"></script>
    <script src="libs/jquery.js"></script>
    <script src="libs/codemirror/mode/javascript/javascript.js"></script>
    <script src="libs/mustache.js"></script>
    <script src="pages/page.js"></script>
    <script src="pages/pageLoader.js"></script>
</head>
<body>

<style>
    * {
        font-size: 45px;
        font-family: "Calibri";
        color:darkslategray;
    }

    .CodeMirror {
        border: 1px solid black;
        margin: 5px;
        height: 300px;
    }

    .presentationPage {
        background-color: #f5f5f5;
        padding-top: 80px;
        padding-left: 80px;
        padding-right: 80px;
        margin-bottom: -41px;
    }

</style>

<div id="presentation">

</div>

<!--div class="presentationPage">


    Hallo 1

</div>


<div class="presentationPage">

    <div style="width:50%;">
        <textarea id="code" name="PAGE_CONTENT"></textarea>
    </div>
    <button type="button" class="btn btn-default">
        <span class="glyphicon glyphicon-play"></span>
    </button>

</div>


<div class="presentationPage">


    Hallo

</div>

<div class="presentationPage">

    Welt

</div-->


</body>
<script>

    $(function () {

        /*var editor = CodeMirror.fromTextArea(document.getElementById("code"), {
            height: "250px",
            mode: "javascript",
            lineNumbers: true
        });

        var pending;
        editor.on("change", function () {

        });*/

        var einleitung = new Page("pages/einleitung.html");


        PageLoader.add(einleitung);
        PageLoader.load(activate);



    });


    function activate(){
        $('.presentationPage').height((parseInt($(window).height(), 10) - 80));
        $('#presentation').height($(window).height - 40);

        var TOTAL = $('.presentationPage').each(function (i, e) {
            var current = $(e);
            if (i > 0) current.hide();
            else current.addClass('active');
            current.addClass("page" + i);
            current.attr('data-id',i);
            console.log("..." + i );
        }).length;

        var INDEX = 0;
        $( window ).on('keypress',function(e) {
            console.log(e.keyCode);
            if (e.keyCode === 39 || e.keyCode === 54){
                // RIGHT
                if (INDEX < (TOTAL -1)){
                    INDEX +=1;
                    console.log('hide: ' + $(".presentationPage.active").attr('data-id'));
                    $(".presentationPage.active").hide().removeClass("active");
                    $(".presentationPage.page"+INDEX).show().addClass("active");
                    console.log('show: ' + INDEX);
                }
            }else if (e.keyCode === 37 || e.keyCode === 52){
                // LEFT
                if (INDEX > 0){
                    INDEX -= 1;
                    console.log('hide: ' + $(".presentationPage.active").attr('data-id'));
                    $(".presentationPage.active").hide().removeClass("active");
                    $(".presentationPage.page"+INDEX).show().addClass("active");
                    console.log('show: ' + INDEX);
                }
            }

        });
    }

</script>
</html>